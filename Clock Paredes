library IEEE;
use IEEE.STD_LOGIC_1164.ALL;
use IEEE.STD_LOGIC_UNSIGNED.ALL;

entity ClockParedes is
port (
    clk: in STD_LOGIC;
    SelectorParedes: out STD_LOGIC_VECTOR (3 DOWNTO 0)
);
end ClockParedes;

architecture behav of ClockParedes is
    -- 100Mzh/300000000=3Hz
    constant max_refresh_count: INTEGER := 300000000; 
    signal refresh_count: INTEGER range 0 to max_refresh_count;
    signal refresh_state: STD_LOGIC_VECTOR(3 downto 0) := (others => '0');
	
begin

    gen_clock: process(clk)
    begin
        if clk'event and clk='1' then
	    -- contador 3Hz (Para cambiar las paredes de displays)
	      if refresh_count < max_refresh_count then
		  refresh_count <= refresh_count + 1;
	    else
		  refresh_state <= refresh_state + 1;
		  refresh_count <= 0; 
          end if; 
        end if; 
        SelectorParedes <= refresh_state;
    end process; 
 END behav;
